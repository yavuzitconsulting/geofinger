
<style>
	#drop_box_input{
		visibility: hidden;
		    width: 0;
	}

.inputbox{
  width: 75%;
  flex-direction: row;
  display: flex;
  color: darkgray;
  position: relative;
}

@media only screen and (max-width: 600px) {
  .inputbox{
    width: 100%;
  }
}

.inputbox button.btn-clear-input {
    position: relative;
    right: 25px;
    background-color: #ffffff;
    box-shadow: 0px 0px 5px 5px #ffffffa0;
    border: 0;
    padding: 2px 5px;
    cursor: pointer;
    z-index: 101;
    opacity: 0;
    line-height: 1em;
    height: 1em;
    margin-top: 1em;
		
}

.inputbox button.btn-clear-input.active {
	opacity: 1;
	transition: all 0.5s ease-in-out;
}


input[type="text"].custom-input {
  width: 100%;
 /* border: 2px solid #aaa;*/
 border: none;
  border-radius: 10px 0px 0px 10px;
  outline: none;
  box-shadow: -6px 6px 6px 3px rgba(0, 0, 0, 0.22);
	z-index: 100;
  padding: 5px 12px;
  box-sizing: border-box;
  transition: 0.3s;
	    line-height: 3em;
    height: 3em;
		transition: width 0.5s ease-in-out;
}
input[type="text"].custom-input::placeholder {
  color: rgb(0, 0, 0);
  opacity: 0.5;
  text-align: center;
}
input[type="text"].custom-input:focus::placeholder{
  color: transparent;

}

input[type="text"].custom-input ~ label {
    position: absolute;
    top: 10px;
		opacity: 1;
		z-index: 1020;
		left:calc(50% - 230px);
		transition: all 0.5s ease-in-out;
    cursor: text;

}
@media only screen and (max-width: 600px){
  input[type="text"].custom-input ~ label {
    font-size:smaller;
  }
}
input[type="text"].custom-input:focus ~ label,
input[type="text"].custom-input.active ~ label  {
    opacity: 1;
		top: -25px;
		left:10px;
    color: #c9ffff;
		text-shadow: 1px 1px 3px black;
}

.inputbox button.action-btn{
  text-decoration: none;
  background-color: #f0ffff;
  opacity: 1;
  color: #000000;
  padding: 12px;
  border:none;
  outline: none;
  transition: 0.3s;
	position: relative;
    right: 19px;
		cursor: pointer;
		width: 50px;
		height: 3em;
		display: flex;
		justify-content: start;
		overflow: hidden;
		min-width: 50px;
		transition: all 0.5s ease-in-out;
		z-index: 103;
}

.inputbox button.action-btn span{
	opacity: 0;
	transition: all 0.3s ease-in-out;
	position: absolute;
	margin-left: 0px;
	white-space: nowrap;
	color: white;
}

.inputbox button.action-btn svg {
        position: absolute;
    right: 7px;
    top: 6px;
}



.inputbox button.action-btn.end{
  border-radius: 0px 10px 10px 0px;
	box-shadow: 6px 6px 6px 3px rgb(0 0 0 / 22%), 0 4px 4px 0 rgb(0 0 0 / 35%);
	border-left: 1px solid gray;

}

.inputbox button.action-btn.not-minting:hover{
  
  text-decoration: none;
  background-color: rgba(77, 152, 86,0.8);;
  color: #ffffff;
	min-width: 320px;
	
}

.inputbox button.action-btn.not-minting:hover{
  
  text-decoration: none;
  background-color: rgba(77, 152, 86,0.8);;
  color: #ffffff;
	min-width: 320px;
	
}

.inputbox button.action-btn.not-minting:hover + label{
	left:10px;
	width: calc(100% - 360px);
	overflow: hidden;
	white-space: nowrap;
	
}

.inputbox button.action-btn.not-minting:hover + label.active{

	width: calc(100% );
	
}

.inputbox button.action-btn.not-minting:hover span{
	opacity: 1;
	margin-left: 5px;
	
}

.inputbox button.action-btn:hover svg {
 
    left: auto;
}

.inputbox button:focus.action-btn:hover{
  
  text-decoration: none;
  background-color: rgba(88, 161, 78, 0.781);;
  color: #a71a1ab6;
}

.splitter-text{
  text-align: center;
  align-items: center;
  align-self: center;
  padding: 15px;
  color: white;
}

.page.has-results .splitter-text{
	padding: 5px 15px;
}
.together{
  flex-direction: row;
  color: darkslategrey;
  font-weight: normal;
  display: flex;
  font-family: 'Quicksand';
  text-align: center;
  width:calc( 80% - 10px);
  flex-wrap: nowrap;
  justify-content: space-between;
  position: relative;
  left: -8px;
}

@media only screen and (max-width: 600px) {
  .together{
    flex-direction: column;
    width: calc( 90%);
    margin-left: 30px;
    margin-right: 10px;
  }
}
.middle {
  position: relative;
  left: -8px;
  font-size: 1.3em;
  margin: 20px;
  text-shadow: 1px 1px 2px #000000a0;
}

.page.has-results .middle {
	margin:5px 20px;
}

.together button.btn{
  width: 25%;
  border-radius: 8px;
  text-decoration: none;
  background-color: #097a9c;
  opacity: 1;
  color: #ffffff;
  padding: 10px 20px;
  border: none;
  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.22), 0 4px 4px 0 rgba(0, 0, 0, 0.35);
cursor: pointer;
  outline: 1px solid #0303038c;
  outline: none;
  transition: 0.3s;
	
}

@media only screen and (max-width: 600px) {
  .together button.btn{
    width: calc(100% - 19px);
    top: 10px;
    position: relative;
  }
}

.page.has-results .together button.btn{
	height: 3em;
}

.together button.btn:disabled{
	background-color: gray;
}

.together button.btn:hover{
  
  text-decoration: none;
  background-color: #ffffff;
  color: #000000;
  padding: 10px 20px;
  border: none;
  outline: 1px solid #099c298c;
}

.together button.btn:hover:disabled{
	background-color: gray;
	cursor: not-allowed;
	color: lightgray;
	outline: none;
}

.together .btn span{
	display: block;
	position: relative;
      font-size: 1.2em;
}

.together .btn span:after {
    content: "||";
    position: absolute;
    right: -10px;
    font-size: 2em;
    top: -10px;
    color: #85e3ff;
}

.together .btn:disabled span:after {
	color: lightgrey;
}
 
 span.invalid-message {
    position: absolute;
		opacity: 0;
    top: 45px;
    left: 10px;
    color: red;
    font-weight: bold;
    /* text-shadow: 1px 1px 5px black; */
    padding: 4px;
    border: 1px solid gray;
    border-radius: 6px;
    background-color: lightgoldenrodyellow;
    letter-spacing: 1px;
    word-spacing: 2px;
    font-size: 0.9em;
		transition: all 0.3s ease-in-out;
}

span.invalid-message.active {
	opacity: 1;
}
</style>
<DashBar></DashBar>
<div class="page">
  {{#if this.isAppReady}}
    <div class="together">
    <div class="inputbox">
		  <input type="file" id="drop_box_input" name="drop_box_input">
	    <input id="message_input" name="message_input" class="custom-input{{if this.hasValueInserted ' active'}}" type="text" placeholder="" value={{this.enteredMessage}} {{on 'keyup' this.updateEnteredMessage}} >
	    <span class="invalid-message{{if this.invalidMessage ' active'}}">{{#if this.invalidMessage}}{{this.invalidMessage}}{{/if}}</span>
	    <button class="btn-clear-input{{if this.hasValueInserted ' active'}}" type="button" {{on 'click' (fn this.clearMessage)}}>X</button>
	    <button id="drop_box_button" class="action-btn end {{unless this.isMinting 'not-minting'}}" type="button" disabled={{if this.isMinting 'disabled' ''}}>
		
        {{#if this.isMinting}}
          <Ux::InlineLoader @active=true/>
        {{else}}
          <span>or upload file</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 64 64" version="1">
            <rect style="fill:#5895dc" width="48" height="34" x="8" y="3" rx="2.5" ry="2.5"/>
            <rect style="opacity:0.1" width="48" height="34" x="8" y="8" rx="2.5" ry="2.5"/>
            <rect style="fill:#89e058" width="48" height="34" x="8" y="9" rx="2.5" ry="2.5"/>
            <rect style="opacity:0.1" width="48" height="34" x="8" y="14" rx="2.5" ry="2.5"/>
            <rect style="fill:#ffcd54" width="48" height="34" x="8" y="15" rx="2.5" ry="2.5"/>
            <rect style="opacity:0.2" width="56" height="40" x="4" y="22" rx="3" ry="3"/>
            <rect style="fill:#8e8e8e" width="56" height="40" x="4" y="21" rx="3" ry="3"/>
            <rect style="opacity:0.2" width="20" height="6" x="22" y="38" rx="2" ry="2"/>
            <rect style="fill:#ececec" width="20" height="6" x="22" y="37" rx="2" ry="2"/>
            <path style="fill:#ffffff;opacity:0.1" d="M 10.5 3 C 9.115 3 8 4.115 8 5.5 L 8 6.5 C 8 5.115 9.115 4 10.5 4 L 53.5 4 C 54.885 4 56 5.115 56 6.5 L 56 5.5 C 56 4.115 54.885 3 53.5 3 L 10.5 3 z"/>
            <path style="fill:#ffffff;opacity:0.1" d="M 10.5,9 C 9.115,9 8,10.115 8,11.5 V 12.5 C 8,11.115 9.115,10 10.5,10 H 53.5 C 54.885,10 56,11.115 56,12.5 V 11.5 C 56,10.115 54.885,9 53.5,9 Z"/>
            <path style="fill:#ffffff;opacity:0.1" d="M 10.5,15 C 9.115,15 8,16.115 8,17.5 V 18.5 C 8,17.115 9.115,16 10.5,16 H 53.5 C 54.885,16 56,17.115 56,18.5 V 17.5 C 56,16.115 54.885,15 53.5,15 Z"/>
          </svg>
        {{/if}}
      </button>
      <label for="message_input" class="{{if this.enteredHashData.hashData ' active'}}">Enter message to leave on location LAT: {{this.lat}} LON: {{this.lon}}</label>
    </div>
    
      <button class="btn mint" disabled={{if this.hasValidMessage '' 'disabled'}} type="button" {{action this.mintMessage}}><span><Ux::InlineLoader @active={{this.isMinting}}/>LEAVE MESSAGE</span></button>
    </div>
  {{/if}}
  {{#if this.isAppReady}}

    <div class="results-showcase{{if this.hasMessages ' has-results'}}">
      <span class="clear-results" {{on 'click' (fn this.clearMessages)}}>clear</span>
      <div class="results">
        {{#each this.lastMessages as |message|}}
        
          <div class="result ok">{{message}} </div>
        {{/each}}
        
      </div>

    </div>
  
  {{/if}}
  {{#if (not this.isTracking)}}
  <div class="messagetitle">
    Press START to begin location tracking
  </div>
  {{/if}}
 
  <div class="bottom">
    {{#if (not this.isTracking)}}

      {{#if this.displayGeoLocationRequestButton}}
      <button class="mobile" type="button" {{on 'click' this.showHowToRequestGeoLocationPermission}}>
        PLEASE ENABLE GEOLOCATION
      </button>
      {{else}}
      <button class="mobile" type="button" {{on 'click' this.setUserLocation}}>
        START
      </button>
      {{/if}}
    {{else if (not this.isAppReady)}}
      <div class="messagetitle">
      {{this.bigStatus}}
      </div>
    {{else}}
    
    {{/if}}
  </div>
</div>
<div class="footer">
  CopyRight:
  <a href="https://cryptng.com">
    CryptNG
  </a>
  - this service is in development!
</div>
<StatusBar @message={{this.statusMessage}}></StatusBar>

{{#if this.isShowingEnableGeoLocationModal}}
  <ModalDialog @onClose={{action "reloadWindow"}} @targetAttachment="center" @translucentOverlay={{true}}>
    <div class="modal">
  Please enable GeoLocation tracking for this device/website to use this service. <br> <br>
  1. Press on the "Lock" button in the Address Bar (it may also be an 'i' or another symbol on the left side) <br>
  2. Select "Permissions" <br>
  3. Enable LOCATION <br>
  4. Close this Modal, we will automatically try again.
  </div>
  </ModalDialog>
{{/if}}

{{#if this.isShowingErrorModal}}
  <ModalDialog @onClose={{action "toggleIsShowingErrorModal"}} @targetAttachment="center" @translucentOverlay={{true}}>
    <div class="modal">
{{this.appErrorMessage}}
  </div>
  </ModalDialog>
{{/if}}